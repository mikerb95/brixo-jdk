#!/bin/sh
# Maven Wrapper script
# https://maven.apache.org/wrapper/

set -e

MAVEN_WRAPPER_JAR="$(dirname "$0")/.mvn/wrapper/maven-wrapper.jar"
MAVEN_WRAPPER_PROPERTIES="$(dirname "$0")/.mvn/wrapper/maven-wrapper.properties"

# Determine MAVEN_HOME
if [ -z "$MAVEN_HOME" ]; then
    MAVEN_HOME="$HOME/.m2/wrapper/dists"
fi

# Read distribution URL from properties
if [ -f "$MAVEN_WRAPPER_PROPERTIES" ]; then
    DIST_URL=$(grep 'distributionUrl' "$MAVEN_WRAPPER_PROPERTIES" | cut -d'=' -f2-)
fi

if [ -z "$DIST_URL" ]; then
    DIST_URL="https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.9.9/apache-maven-3.9.9-bin.zip"
fi

# Use the wrapper jar to download and run Maven
exec java -jar "$MAVEN_WRAPPER_JAR" "$@"
